import{j as e,H as w}from"./index-BHBSRF_I.js";import{r as l,u as E,L as v}from"./vendor-router-sBGvKeAa.js";import{B as k,C as P}from"./card-D00CZe4s.js";import{I as j,A}from"./apiEndpoints-CWnIra_r.js";import{L as b,E as N,a as S}from"./label-BE0y5zIC.js";import{H as B}from"./Header-DWc91ajH.js";import"./vendor-charts-DIWzVVbk.js";const z=({onSubmit:n})=>{const[r,i]=l.useState(""),[m,p]=l.useState(""),[d,y]=l.useState(""),[f,u]=l.useState(""),[c,h]=l.useState(!1),[a,o]=l.useState(!1),[t,x]=l.useState({}),g=()=>{const s={};return r?r.trim().split(" ").length<2&&(s.name="Please enter your full name (first and last)"):s.name="Name is required",m?/\S+@\S+\.\S+/.test(m)||(s.email="Email is invalid"):s.email="Email is required",d?d.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",d!==f&&(s.confirmPassword="Passwords do not match"),x(s),Object.keys(s).length===0},C=s=>{s.preventDefault(),g()&&n(r,m,d)};return e.jsxs("form",{onSubmit:C,className:"space-y-6 lg:space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"name",className:"text-card-foreground",children:"Full Name"}),e.jsx(j,{id:"name",type:"text",placeholder:"Enter your full name",value:r,onChange:s=>i(s.target.value),className:"h-11 lg:h-9"}),t.name&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"email",className:"text-card-foreground",children:"Email"}),e.jsx(j,{id:"email",type:"email",placeholder:"Enter your email",value:m,onChange:s=>p(s.target.value),className:"h-11 lg:h-9"}),t.email&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password",className:"text-card-foreground",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{id:"password",type:c?"text":"password",placeholder:"Enter your password",value:d,onChange:s=>y(s.target.value),className:"h-11 lg:h-9 pr-10"}),e.jsx("button",{type:"button",onClick:()=>h(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?e.jsx(N,{size:20}):e.jsx(S,{size:20})})]}),t.password&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"confirmPassword",className:"text-card-foreground",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{id:"confirmPassword",type:a?"text":"password",placeholder:"Confirm your password",value:f,onChange:s=>u(s.target.value),className:"h-11 lg:h-9 pr-10"}),e.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:a?e.jsx(N,{size:20}):e.jsx(S,{size:20})})]}),t.confirmPassword&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.confirmPassword})]}),e.jsx(k,{type:"submit",className:"w-full h-12 lg:h-10 text-base lg:text-sm font-semibold",children:"Create Account"})]})},D=()=>{const[,n]=l.useState(!1),[r,i]=l.useState(""),m=E(),p=async(u,c,h)=>{try{const a=await fetch(A.signUp,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u,email:c,password:h})});if(a.ok)i("Account created successfully! Redirecting to login..."),n(!0),setTimeout(()=>m("/login"),2e3);else{const o=await a.json();let t="Sign Up failed. Please try again.";o.detail&&(Array.isArray(o.detail)?t=o.detail[0]?.msg||t:t=o.detail),i(t),n(!0)}}catch(a){console.error("Error during sign up:",a),i("Something went wrong. Please try again."),n(!0)}},d=()=>{const u=document.getElementById("mobile-signup-name"),c=document.getElementById("mobile-signup-email"),h=document.getElementById("mobile-signup-password"),a=document.getElementById("mobile-signup-confirm"),o=u?.value||"",t=c?.value||"",x=h?.value||"",g=a?.value||"";if(!o||!t||!x||!g){i("All fields are required."),n(!0);return}if(x!==g){i("Passwords do not match."),n(!0);return}if(x.length<6){i("Password must be at least 6 characters."),n(!0);return}p(o,t,x)},y=e.jsxs("div",{className:"min-h-screen flex flex-col px-5 pt-12 pb-8 md:hidden",style:{backgroundColor:"#0E1410"},children:[e.jsx(w,{children:e.jsx("title",{children:"Sign Up - SnoopTrade"})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{style:{color:"#EAF5EC",fontSize:28,fontWeight:700,marginBottom:8},children:"Create account"}),e.jsx("p",{style:{color:"#A7B7AC",fontSize:15},children:"Start tracking insider trades."})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsxs("div",{children:[e.jsx("label",{style:{color:"#A7B7AC",fontSize:12,display:"block",marginBottom:6},children:"Full Name"}),e.jsx("input",{id:"mobile-signup-name",className:"mobile-input",placeholder:"Full Name"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"#A7B7AC",fontSize:12,display:"block",marginBottom:6},children:"Email"}),e.jsx("input",{id:"mobile-signup-email",className:"mobile-input",placeholder:"Email",type:"email",autoCapitalize:"none"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"#A7B7AC",fontSize:12,display:"block",marginBottom:6},children:"Password"}),e.jsx("input",{id:"mobile-signup-password",className:"mobile-input",placeholder:"Password",type:"password"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"#A7B7AC",fontSize:12,display:"block",marginBottom:6},children:"Confirm Password"}),e.jsx("input",{id:"mobile-signup-confirm",className:"mobile-input",placeholder:"Confirm Password",type:"password"})]}),r&&e.jsx("p",{style:{color:r.includes("success")?"#B7E389":"#E56A6A",fontSize:12},children:r}),e.jsx("button",{className:"mobile-btn-primary",onClick:d,children:"Create Account"}),e.jsxs("p",{style:{textAlign:"center",marginTop:16,color:"#A7B7AC",fontSize:15},children:["Already have an account?"," ",e.jsx(v,{to:"/login",style:{color:"#B7E389",fontWeight:700,textDecoration:"none"},children:"Login"})]})]})]}),f=e.jsxs("div",{className:"min-h-screen lg:fixed lg:inset-0 lg:h-screen lg:overflow-hidden hidden md:flex flex-col items-center bg-background pt-24 sm:pt-28 md:pt-32 lg:pt-24",children:[e.jsx(w,{children:e.jsx("title",{children:"Sign Up - SnoopTrade"})}),e.jsx(B,{}),e.jsx("div",{className:"animate-in fade-in duration-1000 flex-1 flex flex-col min-h-0 overflow-hidden items-center justify-center px-4 py-6 lg:py-4 w-[92%] sm:w-[85%] lg:w-[75%] max-w-[1200px] mb-8 sm:mb-12 lg:mb-0",children:e.jsxs(P,{className:"flex flex-col md:flex-row overflow-hidden rounded-xl sm:rounded-2xl shadow-2xl bg-card border-border max-h-[calc(100vh-8rem)] lg:max-h-[calc(100vh-6rem)]",children:[e.jsxs("div",{className:"hidden md:flex flex-1 flex-col justify-center p-8 md:p-12 bg-primary/10 rounded-l-2xl",children:[e.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-4 font-display leading-tight",children:["Join",e.jsx("br",{}),"SnoopTrade"]}),e.jsxs("div",{className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("svg",{className:"w-8 h-8 text-primary-strong",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-muted-foreground text-base",children:"Track insider trading activity"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("svg",{className:"w-8 h-8 text-primary-strong",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),e.jsx("span",{className:"text-muted-foreground text-base",children:"AI-powered stock forecasting"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("svg",{className:"w-8 h-8 text-primary-strong",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsx("span",{className:"text-muted-foreground text-base",children:"Secure and free to use"})]})]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-5 sm:p-8 md:p-12 bg-card min-h-0 overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-md space-y-4 sm:space-y-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-center text-card-foreground font-display",children:"Create Your Account"}),e.jsx(z,{onSubmit:p}),e.jsxs("p",{className:"text-sm text-center text-muted-foreground mt-4 sm:mt-6",children:["Already have an account?"," ",e.jsx(v,{to:"/login",className:"text-primary-strong font-semibold hover:underline transition-all",children:"Login"})]})]})})]})}),r&&e.jsx("div",{className:"fixed bottom-4 right-4 sm:bottom-8 sm:right-8 left-4 sm:left-auto bg-card border border-border rounded-lg p-3 sm:p-4 shadow-xl animate-in slide-in-from-bottom-4 max-w-[calc(100%-2rem)] sm:max-w-md",children:e.jsx("p",{className:"text-card-foreground text-sm sm:text-base",children:r})})]});return e.jsxs(e.Fragment,{children:[y,f]})};export{D as default};
